within SolarTherm.Media.Air.Air_amb_p_utilities;
function rho_T "Density (kg/m3) of air at ambient pressure as a function of temperature"
	extends Modelica.Icons.Function;
	input Modelica.SIunits.Temperature T "Temperature (K)";
	output Modelica.SIunits.Density rho "Density (kg/m3)";
protected
    Real T_data[86] = {81.72, 82.00, 84.00, 86.00, 88.00, 90.00, 92.00, 94.00, 96.00, 98.00, 100.00, 102.00, 104.00, 106.00, 108.00, 110.00, 112.00, 114.00, 116.00, 118.00, 120.00, 122.00, 124.00, 126.00, 128.00, 130.00, 132.00, 134.00, 136.00, 138.00, 140.00, 142.00, 144.00, 146.00, 148.00, 150.00, 155.00, 160.00, 165.00, 170.00, 175.00, 180.00, 185.00, 190.00, 195.00, 200.00, 210.00, 220.00, 230.00, 240.00, 250.00, 260.00, 270.00, 280.00, 290.00, 300.00, 310.00, 320.00, 330.00, 340.00, 350.00, 360.00, 370.00, 380.00, 390.00, 400.00, 450.00, 500.00, 550.00, 600.00, 650.00, 700.00, 750.00, 800.00, 900.00, 1000.00, 1100.00, 1200.00, 1300.00, 1400.00, 1500.00, 1600.00, 1700.00, 1800.00, 1900.00, 2000.00};
    Real rho_data[86] = {4.4964, 4.4790, 4.3591, 4.2462, 4.1396, 4.0389, 3.9433, 3.8524, 3.7661, 3.6838, 3.6051, 3.5301, 3.4582, 3.3893, 3.3233, 3.2599, 3.1991, 3.1403, 3.0838, 3.0296, 2.9772, 2.9266, 2.8778, 2.8306, 2.7851, 2.7409, 2.6982, 2.6569, 2.6168, 2.5779, 2.5402, 2.5036, 2.4681, 2.4335, 2.4000, 2.3674, 2.2896, 2.2169, 2.1487, 2.0846, 2.0243, 1.9674, 1.9136, 1.8627, 1.8145, 1.7688, 1.6839, 1.6068, 1.5365, 1.4721, 1.4130, 1.3584, 1.3079, 1.2610, 1.2174, 1.1767, 1.1387, 1.1030, 1.0695, 1.0380, 1.0083, 0.9802, 0.9537, 0.9286, 0.9048, 0.8821, 0.7840, 0.7056, 0.6414, 0.5879, 0.5427, 0.5040, 0.4704, 0.4410, 0.3920, 0.3528, 0.3207, 0.2940, 0.2714, 0.2520, 0.2352, 0.2205, 0.2075, 0.1960, 0.1857, 0.1764};
algorithm
    rho := SolarTherm.Utilities.Interpolation.Interpolate1D(T_data,rho_data,T);
end rho_T;